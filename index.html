<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpeedUp by Project Dev</title>
    
    <!-- Font Import: BR Sonoma -->
    <link href="https://fonts.cdnfonts.com/css/br-sonoma" rel="stylesheet">
    
    <style>
        /* --- RESET & VARIABLES --- */
        :root {
            --bg-color: #000000;
            --text-color: #ffffff;
            --dim-color: #444444;
            --border-color: #333333;
            --accent-color: #ffffff;
            --font-main: 'BR Sonoma', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
        }

        a { text-decoration: none; color: inherit; transition: opacity 0.3s; }
        a:hover { opacity: 0.7; }
        ul { list-style: none; }

        /* --- HEADER --- */
        header {
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }

        .brand {
            font-weight: 700;
            font-size: 1.2rem;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .status-dot {
            height: 10px;
            width: 10px;
            background-color: #fff;
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
            animation: pulse 2s infinite;
        }

        /* --- MAIN CONTENT --- */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 40px 20px;
        }

        .gauge-container {
            position: relative;
            width: 300px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
        }

        .gauge-ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 1px solid var(--dim-color);
            border-radius: 50%;
        }

        .loader {
            display: none;
            width: 300px;
            height: 300px;
            position: absolute;
            border: 2px solid transparent;
            border-top: 2px solid #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .speed-display {
            text-align: center;
            z-index: 2;
        }

        .speed-value {
            font-size: 4.5rem;
            font-weight: 600;
            line-height: 1;
            display: block;
        }

        .speed-unit {
            font-size: 0.9rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 10px;
            display: block;
        }

        /* VERDICT BOX */
        .verdict-box {
            text-align: center;
            margin-bottom: 30px;
            min-height: 80px;
            opacity: 0;
            transition: opacity 0.5s;
            max-width: 600px;
        }
        
        .score-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 10px;
            border: 1px solid #fff;
        }

        .verdict-title { font-size: 1.2rem; font-weight: 600; margin-bottom: 5px; }
        .verdict-desc { font-size: 0.95rem; color: #aaa; line-height: 1.4; }

        /* STATS GRID */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            margin-bottom: 50px;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .stat-item h4 {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 5px;
            font-weight: 400;
        }

        .stat-item span {
            font-size: 1.5rem;
            font-weight: 500;
        }

        .start-btn {
            background: transparent;
            color: #fff;
            border: 1px solid #fff;
            padding: 15px 50px;
            font-family: var(--font-main);
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 50px;
        }

        .start-btn:hover {
            background: #fff;
            color: #000;
        }

        .start-btn:disabled {
            border-color: var(--dim-color);
            color: var(--dim-color);
            cursor: not-allowed;
        }

        /* --- FOOTER --- */
        footer {
            background-color: #050505;
            border-top: 1px solid var(--border-color);
            padding: 60px 40px 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 1.5fr 1fr 1fr;
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-col h3 {
            font-size: 1.1rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .footer-logo {
            width: 150px;
            margin-bottom: 15px;
            display: block;
        }

        .footer-desc {
            font-size: 0.9rem;
            color: #aaa;
            line-height: 1.6;
            max-width: 300px;
        }

        .social-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .social-icon svg {
            width: 24px;
            height: 24px;
            fill: #fff;
            transition: fill 0.3s;
        }
        
        .social-img {
            width: 24px;
            height: 24px;
            object-fit: cover;
            transition: opacity 0.3s;
        }
        
        .social-icon:hover svg, .social-icon:hover .social-img {
            opacity: 0.7;
        }

        .footer-bottom {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: #666;
            flex-wrap: wrap;
        }

        .legal-links button {
            background: none;
            border: none;
            color: #666;
            font-family: var(--font-main);
            font-size: 0.85rem;
            cursor: pointer;
            margin-left: 20px;
            transition: color 0.3s;
        }
        
        .legal-links button:hover {
            color: #fff;
        }

        /* --- MODALS (POP-UPS) --- */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; 
            z-index: 1000; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.9); 
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            opacity: 1;
        }

        .modal-content {
            background-color: #000;
            border: 1px solid var(--border-color);
            padding: 40px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 0 20px rgba(255,255,255,0.05);
        }

        /* Custom Scrollbar for Modal */
        .modal-content::-webkit-scrollbar { width: 5px; }
        .modal-content::-webkit-scrollbar-track { background: #111; }
        .modal-content::-webkit-scrollbar-thumb { background: #444; border-radius: 10px; }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-btn:hover { color: #fff; }

        .modal-header { font-size: 1.5rem; font-weight: 700; margin-bottom: 20px; border-bottom: 1px solid #222; padding-bottom: 15px; }
        .modal-body p { font-size: 0.95rem; color: #ccc; line-height: 1.6; margin-bottom: 15px; }
        .modal-body ul { margin-left: 20px; margin-bottom: 15px; color: #ccc; list-style: disc; }
        .modal-body li { margin-bottom: 5px; }

        /* Animations */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .footer-content { grid-template-columns: 1fr; text-align: center; }
            .social-links { justify-content: center; }
            .footer-bottom { flex-direction: column; gap: 15px; text-align: center; }
            .legal-links button { margin: 0 10px; }
            .footer-logo { margin: 0 auto 15px; }
            .stats-grid { gap: 15px; }
            .modal-content { padding: 25px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="brand">SpeedUp</div>
        <div><span class="status-dot"></span>Connected</div>
    </header>

    <main>
        <div class="gauge-container">
            <div class="gauge-ring"></div>
            <div class="loader" id="loader"></div>
            
            <div class="speed-display">
                <span class="speed-value" id="mainDisplay">0.0</span>
                <span class="speed-unit" id="unitLabel">Start Test</span>
            </div>
        </div>

        <div class="verdict-box" id="verdictBox">
            <div id="scoreBadge" class="score-badge">SCORE: 0%</div>
            <div class="verdict-title" id="verdictTitle"></div>
            <div class="verdict-desc" id="verdictDesc"></div>
        </div>

        <div class="stats-grid" id="statsGrid">
            <div class="stat-item">
                <h4>PING</h4>
                <span id="pingVal">--</span>
            </div>
            <div class="stat-item">
                <h4>DOWNLOAD</h4>
                <span id="downVal">--</span>
            </div>
            <div class="stat-item">
                <h4>UPLOAD</h4>
                <span id="upVal">--</span>
            </div>
        </div>

        <button class="start-btn" id="startBtn" onclick="startRealTest()">GO</button>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-col">
                <img src="https://litestream-iptv.vercel.app/assets/project_dev_logo_(white).svg" alt="Project Dev Logo" class="footer-logo">
                <p class="footer-desc">
                    Project Dev is a tech developer that behind SpeedUp. Creating next-generation web tools with minimalist precision.
                </p>
            </div>
            
            <div class="footer-col"></div>

            <div class="footer-col">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="https://github.com/projectdevphil" target="_blank" class="social-icon" title="GitHub">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                    </a>
                    <a href="https://phcorner.org/members/buzzybees.2661880/" target="_blank" class="social-icon" title="PHCorner">
                        <img src="https://data.phcorner.org/2020/11/11740226_192.webp" alt="PHC" class="social-img">
                    </a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <span>&copy;2025 Project Dev, All Right Reserved | Version 2.2.0</span>
            <div class="legal-links">
                <button onclick="openModal('privacyModal')">Privacy Policy</button>
                <button onclick="openModal('termsModal')">Terms of Service</button>
            </div>
        </div>
    </footer>

    <!-- PRIVACY MODAL -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('privacyModal')">&times;</span>
            <div class="modal-header">Privacy Policy</div>
            <div class="modal-body">
                <p><strong>1. Data Collection</strong><br>SpeedUp by Project Dev is a client-side utility. We do not store your IP address, personal logs, or speed test results on any permanent server. All calculations happen directly in your browser.</p>
                <p><strong>2. Third-Party Connections</strong><br>To measure your speed, this tool connects to public servers (such as Wikimedia for downloads and HttpBin for uploads). These connections are temporary and used solely for bandwidth measurement.</p>
                <p><strong>3. Cookies</strong><br>We do not use cookies for tracking purposes. Local storage may be used temporarily to remember your last test preference, but no identifiable data is retained.</p>
                <p><strong>4. Consent</strong><br>By using this tool, you agree to the temporary data transfer required to measure your internet connection speed.</p>
            </div>
        </div>
    </div>

    <!-- TERMS MODAL -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('termsModal')">&times;</span>
            <div class="modal-header">Terms of Service</div>
            <div class="modal-body">
                <p><strong>1. Acceptance of Terms</strong><br>By accessing and using SpeedUp, you accept and agree to be bound by the terms and provision of this agreement.</p>
                <p><strong>2. Accuracy of Results</strong><br>SpeedUp provides an estimation of your network performance. Factors such as server load, browser performance, and device limitations may affect results. This tool should not be used as legal proof of Service Level Agreements (SLA) with your ISP.</p>
                <p><strong>3. Usage</strong><br>You agree not to use this tool for any malicious purpose, including Distributed Denial of Service (DDoS) attacks or automated bot testing that may overwhelm public test servers.</p>
                <p><strong>4. Intellectual Property</strong><br>The "Project Dev" name, logo, and design assets are properties of their respective owners. The source code is provided for educational and utility purposes.</p>
            </div>
        </div>
    </div>

    <script>
        // --- DOM Elements ---
        const startBtn = document.getElementById('startBtn');
        const mainDisplay = document.getElementById('mainDisplay');
        const unitLabel = document.getElementById('unitLabel');
        const loader = document.getElementById('loader');
        const statsGrid = document.getElementById('statsGrid');
        
        const pingVal = document.getElementById('pingVal');
        const downVal = document.getElementById('downVal');
        const upVal = document.getElementById('upVal');
        
        const verdictBox = document.getElementById('verdictBox');
        const scoreBadge = document.getElementById('scoreBadge');
        const verdictTitle = document.getElementById('verdictTitle');
        const verdictDesc = document.getElementById('verdictDesc');

        // --- Config ---
        const downloadAddr = "https://upload.wikimedia.org/wikipedia/commons/3/3f/Fronalpstock_big.jpg"; 
        const downloadSize = 3755498; 
        const uploadAddr = "https://httpbin.org/post"; 

        // --- SPEED TEST LOGIC ---
        function startRealTest() {
            startBtn.disabled = true;
            startBtn.style.opacity = '0';
            statsGrid.style.opacity = '1';
            statsGrid.style.transform = 'translateY(0)';
            verdictBox.style.opacity = '0';
            loader.style.display = 'block';
            
            pingVal.innerText = '--';
            downVal.innerText = '--';
            upVal.innerText = '--';

            measurePing();
        }

        function measurePing() {
            unitLabel.innerText = "Testing Ping...";
            const pStart = new Date().getTime();
            const img = new Image();
            
            const onFinish = () => {
                const pEnd = new Date().getTime();
                const pTime = pEnd - pStart;
                mainDisplay.innerText = pTime;
                pingVal.innerText = pTime + " ms";
                setTimeout(measureDownload, 500);
            };

            img.onload = onFinish;
            img.onerror = onFinish; 
            img.src = "https://www.google.com/favicon.ico?t=" + pStart;
        }

        function measureDownload() {
            unitLabel.innerText = "Mbps (Downloading)";
            const startTime = new Date().getTime();
            const download = new Image();
            
            let fakeAnim = setInterval(() => {
                mainDisplay.innerText = (Math.random() * 20).toFixed(1);
            }, 100);

            download.onload = function () {
                clearInterval(fakeAnim);
                const endTime = new Date().getTime();
                const duration = (endTime - startTime) / 1000;
                
                const bitsLoaded = downloadSize * 8;
                const speedBps = bitsLoaded / duration;
                const speedMbps = (speedBps / 1024 / 1024).toFixed(2);
                
                mainDisplay.innerText = speedMbps;
                downVal.innerText = speedMbps;
                
                setTimeout(measureUpload, 500);
            }

            download.onerror = function() {
                clearInterval(fakeAnim);
                mainDisplay.innerText = "Err";
                finishTest(0);
            }
            
            download.src = downloadAddr + "?n=" + Math.random();
        }

        function measureUpload() {
            unitLabel.innerText = "Mbps (Uploading)";
            const junkData = "A".repeat(2000000); 
            const blob = new Blob([junkData]);
            const uploadSize = blob.size;
            const startTime = new Date().getTime();
            const xhr = new XMLHttpRequest();

            xhr.upload.onprogress = function(event) {
                const duration = (new Date().getTime() - startTime) / 1000;
                if(duration > 0) {
                    const loadedBits = event.loaded * 8;
                    const speed = (loadedBits / duration / 1024 / 1024).toFixed(1);
                    mainDisplay.innerText = speed;
                }
            };

            xhr.open("POST", uploadAddr, true);
            
            xhr.onload = function() {
                const endTime = new Date().getTime();
                const duration = (endTime - startTime) / 1000;
                const speedMbps = ((uploadSize * 8) / duration / 1024 / 1024).toFixed(2);

                mainDisplay.innerText = speedMbps;
                upVal.innerText = speedMbps;
                
                finishTest(parseFloat(downVal.innerText));
            };

            xhr.onerror = function() {
                mainDisplay.innerText = "Err";
                upVal.innerText = "Blocked";
                finishTest(parseFloat(downVal.innerText));
            };

            xhr.send(blob);
        }

        function finishTest(finalSpeed) {
            loader.style.display = 'none';
            unitLabel.innerText = "Test Complete";
            startBtn.innerText = "TEST AGAIN";
            startBtn.disabled = false;
            startBtn.style.opacity = '1';
            
            showVerdict(finalSpeed);
        }

        function showVerdict(speed) {
            verdictBox.style.opacity = '1';
            let score = 0;
            let scoreColor = "#fff";

            if (speed >= 100) {
                score = 100;
                verdictTitle.innerText = "Outstanding Connection";
                verdictDesc.innerText = "Perfect for 4K streaming, heavy downloading, and pro gaming.";
                scoreColor = "#00ff88"; 
            } else if (speed >= 50) {
                score = 90;
                verdictTitle.innerText = "Excellent Connection";
                verdictDesc.innerText = "Smooth 4K/HD streaming and fast browsing.";
                scoreColor = "#fff";
            } else if (speed >= 25) {
                score = 80;
                verdictTitle.innerText = "Good Connection";
                verdictDesc.innerText = "Reliable for HD streaming. Multiple devices may slow it down.";
                scoreColor = "#eee";
            } else if (speed >= 10) {
                score = 60;
                verdictTitle.innerText = "Average Connection";
                verdictDesc.innerText = "Fine for browsing. HD Video may buffer occasionally.";
                scoreColor = "#ccc";
            } else if (speed >= 5) {
                score = 40;
                verdictTitle.innerText = "Below Average";
                verdictDesc.innerText = "Basic browsing only. Video streaming will be low quality.";
                scoreColor = "#aaa";
            } else {
                score = 20;
                verdictTitle.innerText = "Poor Connection";
                verdictDesc.innerText = "Significant lag and buffering expected.";
                scoreColor = "#888";
            }

            scoreBadge.innerText = "SCORE: " + score + "%";
            scoreBadge.style.borderColor = scoreColor;
            scoreBadge.style.color = scoreColor;
            verdictTitle.style.color = scoreColor;
        }

        // --- MODAL LOGIC ---
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = "flex";
            setTimeout(() => {
                modal.classList.add('active');
            }, 10);
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            setTimeout(() => {
                modal.style.display = "none";
            }, 300);
        }

        // Close modal if user clicks outside content box
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
                setTimeout(() => {
                    event.target.style.display = "none";
                }, 300);
            }
        }
    </script>
</body>
</html>
